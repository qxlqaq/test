<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qxl.client.mapper.ClientMapper">
	<!-- id:sql语句的唯一标识 resultType：返回的类型 parameterType：传入参数的类型 #{id}这种是占位符 -->
	<!-- 登录 -->
	<select id="findClient" resultType="com.qxl.pojo.Client"
		parameterType="com.qxl.pojo.Client">
		SELECT * FROM t_client where cname=#{cname}
	</select>
	
	<!-- 注册 -->
	<insert id="saveClient" parameterType="com.qxl.pojo.Client">
		insert into t_client(id,cname,cpassword,telephone)
		values(#{id},#{cname},#{cpassword},#{telephone})
	</insert>
	<!-- 注册：用户名不能相同 -->
	<select id="findName" parameterType="com.qxl.pojo.Client" 
			resultType="com.qxl.pojo.Client">
		select * from t_client where cname=#{cname}
	</select>
	<!-- 注册 :电话号码不能相同-->
	<select id="findTelephone" parameterType="com.qxl.pojo.Client"
			resultType="com.qxl.pojo.Client">
		select * from t_client where telephone=#{telephone}
	</select>
	
	<!-- 修改密码 -->
	<update id="updatePassword" parameterType="com.qxl.pojo.Client">
		update t_client set cpassword=#{cpassword} where cname=#{cname}
	</update>
	<!-- 修改密码：通过用户名查询判断电话号的正确性 -->
	<select id="findNameTelephone" parameterType="com.qxl.pojo.Client"
			resultType="com.qxl.pojo.Client">
		select * from t_client where cname=#{cname} and telephone=#{telephone}
	</select>
	
</mapper>